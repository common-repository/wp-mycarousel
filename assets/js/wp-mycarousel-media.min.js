(function(d,e){function c(){var g,h,f;if(undefined!==g){g.open();return}g=wp.media.frames.file_frame=wp.media({frame:"post",state:"insert",multiple:false});g.on("insert",function(){f=g.state().get("selection").first().toJSON();if(0>d.trim(f.url.length)){return}d("#featured-footer-image-container").children("img").attr("src",f.url).attr("alt",f.caption).attr("title",f.title).show().parent().removeClass("hidden");d("#featured-footer-image-container").prev().hide();d("#featured-footer-image-container").next().show();d(".thumbnail-src").val(f.url);d("#"+e+"_description").val(f.description);d("#"+e+"_annotation").val(f.caption)});g.open()}function b(){d("#featured-footer-image-container").children("img").hide();d("#featured-footer-image-container").prev().show();d("#featured-footer-image-container").next().hide().addClass("hidden");d("#featured-footer-image-meta").children().val("")}function a(){var f=d.trim(d(".thumbnail-src").val());if(""!==f){d("#featured-footer-image-container img").attr("src",f);d("#featured-footer-image-container").removeClass("hidden");d("#set-footer-thumbnail").hide();d("#remove-footer-thumbnail").parent().removeClass("hidden")}}"use strict";d(function(){d("#set-footer-thumbnail").on("click",function(f){f.preventDefault();c()});d("#remove-footer-thumbnail").on("click",function(f){f.preventDefault();b(d)});a()})})(jQuery,"wp-mycarousel");